import React, { useEffect, useRef } from 'react';
import { View, StyleSheet, Animated, Easing } from 'react-native';
import Svg, { Path } from 'react-native-svg';

interface SVGLogoProps {
  width?: number;
  height?: number;
}

export const SVGLogo: React.FC<SVGLogoProps> = ({ 
  width = 260, 
  height = 260 
}) => {
  // Calcular la altura proporcional basada en el viewBox original (304x315)
  const aspectRatio = 315 / 304;
  const calculatedHeight = width * aspectRatio;
  
  // Valores animados usando Animated API nativa de React Native
  const scaleAnim = useRef(new Animated.Value(1.0)).current;
  const opacityAnim = useRef(new Animated.Value(0.8)).current;
  
  // Iniciar animaciones al montar el componente
  useEffect(() => {
    // Animación de pulso (escala) - infinita
    const pulseAnimation = Animated.loop(
      Animated.sequence([
        Animated.timing(scaleAnim, {
          toValue: 1.1,
          duration: 2000,
          easing: Easing.inOut(Easing.ease),
          useNativeDriver: true,
        }),
        Animated.timing(scaleAnim, {
          toValue: 1.0,
          duration: 2000,
          easing: Easing.inOut(Easing.ease),
          useNativeDriver: true,
        }),
      ])
    );
    
    // Animación de brillo (opacidad) - infinita, ligeramente más rápida
    const glowAnimation = Animated.loop(
      Animated.sequence([
        Animated.timing(opacityAnim, {
          toValue: 1.0,
          duration: 1500,
          easing: Easing.inOut(Easing.ease),
          useNativeDriver: true,
        }),
        Animated.timing(opacityAnim, {
          toValue: 0.8,
          duration: 1500,
          easing: Easing.inOut(Easing.ease),
          useNativeDriver: true,
        }),
      ])
    );
    
    // Iniciar ambas animaciones
    pulseAnimation.start();
    glowAnimation.start();
    
    // Cleanup al desmontar
    return () => {
      pulseAnimation.stop();
      glowAnimation.stop();
    };
  }, [scaleAnim, opacityAnim]);
  
  // Estilos animados
  const animatedStyle = {
    transform: [{ scale: scaleAnim }],
    opacity: opacityAnim,
  };
  
  return (
    <View style={styles.container} pointerEvents="none">
      <Animated.View style={[styles.animatedContainer, animatedStyle]}>
        <Svg width={width} height={calculatedHeight} viewBox="0 0 304 315" fill="none">
        <Path 
          d="M157.44 250.338C153.97 254.158 152.31 254.348 147.5 251.518C143.15 248.948 137.99 242.398 129.12 228.168C120.06 213.648 114.89 207.278 101.84 194.598C89.2 182.308 85.04 178.918 73.47 171.388C68.77 168.338 62.9 164.288 60.42 162.398C57.93 160.498 53.86 157.748 51.36 156.288C46.3 153.318 43.95 149.528 45.43 146.748C46.53 144.698 55.24 138.548 74.64 126.128C97.54 111.468 108.95 100.398 128.2 74.2383C136.74 62.6183 145.23 53.8483 148.65 53.0983C153.7 51.9883 160.47 57.9283 171 72.6883C177.32 81.5483 189.6 96.5783 195.5 102.678C201.88 109.258 213.15 118.548 218.79 121.868C252.62 141.758 257.16 145.788 253.48 152.668C252.29 154.888 240.06 164.838 234.66 167.978C227.07 172.388 207.77 187.608 201.34 194.248C190.65 205.308 180.86 217.108 174.64 226.438C165.99 239.428 160.78 246.678 157.44 250.338ZM115 160.618C121.27 161.958 128.73 158.678 133.85 152.338C136.4 149.188 136.98 147.468 137.32 142.068C137.69 136.358 137.42 135.108 135.12 131.628C130.6 124.808 124.66 122.198 117.24 123.778C111.97 124.898 108.93 127.818 104.47 135.998C101.91 140.678 101.37 142.648 101.79 145.748C102.92 154.178 107.16 158.948 115 160.618ZM176.81 159.528C184.75 161.818 193.47 159.288 197.61 153.468C199.88 150.288 201.3 139.968 200.13 135.288C199.07 131.058 191.71 124.888 186.86 124.158C179.27 123.018 171.39 128.768 168.92 137.238C166.16 146.748 169.98 157.548 176.81 159.528Z" 
          fill="#D38B04"
        />
        <Path 
          d="M155.03 299.128C152.79 305.448 150.41 307.188 148.6 303.818C148.03 302.748 146.46 298.108 145.1 293.508C139.07 272.958 135.06 262.548 127.25 247.158C123.89 240.538 120.79 234.888 120.36 234.588C119.93 234.298 118.87 232.498 118 230.588C117.12 228.688 115.28 225.548 113.9 223.628C111.42 220.178 94.94 201.198 93 199.558C92.45 199.098 89.75 196.718 87 194.278C77.6 185.918 71.12 180.628 70.29 180.628C69.83 180.628 67.6 179.448 65.32 178.008C53.76 170.718 34.64 161.798 18.37 156.118C10.4 153.338 4.5 150.238 4.5 148.838C4.5 146.208 8.65 143.998 22.51 139.208C38.48 133.698 42.45 132.098 54.15 126.518C60.74 123.368 64.41 121.258 72.98 115.708C77.69 112.658 78.09 112.358 86.5 105.468C96.2 97.5183 111.77 81.2383 114.93 75.7383C115.44 74.8583 116.38 73.6783 117.03 73.1283C118.37 71.9883 129.5 55.0483 129.5 54.1483C129.5 53.3783 138.83 34.2883 139.53 33.6283C139.82 33.3483 140.86 30.5083 141.85 27.3083C142.84 24.1083 144.96 18.5583 146.57 14.9683C148.18 11.3783 149.5 7.85833 149.5 7.13833C149.5 5.05833 152.19 4.61832 153.73 6.44832C154.51 7.36832 155.72 10.1583 156.43 12.6283C158.34 19.3383 160.51 25.7383 162.09 29.2783C162.87 31.0083 163.5 32.7283 163.5 33.0883C163.5 33.9383 174.83 56.7383 178.31 62.8783C180.77 67.2283 187.82 77.6283 190.78 81.2783C195.8 87.4783 212.26 103.688 218 108.088C235.17 121.248 251.84 129.478 280.88 139.128C288.51 141.668 295.37 144.358 296.13 145.118C298.96 147.948 297.7 150.048 291.5 152.888C288.2 154.398 285.1 155.628 284.62 155.628C284.14 155.628 281.11 156.808 277.87 158.258C274.64 159.698 268.17 162.428 263.5 164.318C258.83 166.208 253.42 168.688 251.5 169.828C249.58 170.968 245.98 173.028 243.5 174.398C229.03 182.418 213.83 194.118 202.87 205.668C197.97 210.838 186.18 226.388 183.2 231.628C182.11 233.548 179.91 237.378 178.31 240.128C176.72 242.878 174.51 247.148 173.4 249.628C172.28 252.108 170.56 255.928 169.57 258.128C167.56 262.598 165.86 267.288 160.69 282.628C158.74 288.398 156.19 295.828 155.03 299.128ZM157.44 250.338C160.78 246.678 165.99 239.428 174.64 226.438C180.86 217.108 190.65 205.308 201.34 194.248C207.77 187.608 227.07 172.388 234.66 167.978C240.06 164.838 252.29 154.888 253.48 152.668C257.16 145.788 252.62 141.758 218.79 121.868C213.15 118.548 201.88 109.258 195.5 102.678C189.6 96.5783 177.32 81.5483 171 72.6883C160.47 57.9283 153.7 51.9883 148.65 53.0983C145.23 53.8483 136.74 62.6183 128.2 74.2383C108.95 100.398 97.54 111.468 74.64 126.128C55.24 138.548 46.53 144.698 45.43 146.748C43.95 149.528 46.3 153.318 51.36 156.288C53.86 157.748 57.93 160.498 60.42 162.398C62.9 164.288 68.77 168.338 73.47 171.388C85.04 178.918 89.2 182.308 101.84 194.598C114.89 207.278 120.06 213.648 129.12 228.168C137.99 242.398 143.15 248.948 147.5 251.518C152.31 254.348 153.97 254.158 157.44 250.338ZM115 160.618C107.16 158.948 102.92 154.178 101.79 145.748C101.37 142.648 101.91 140.678 104.47 135.998C108.93 127.818 111.97 124.898 117.24 123.778C124.66 122.198 130.6 124.808 135.12 131.628C137.42 135.108 137.69 136.358 137.32 142.068C136.98 147.468 136.4 149.188 133.85 152.338C128.73 158.678 121.27 161.958 115 160.618ZM176.81 159.528C169.98 157.548 166.16 146.748 168.92 137.238C171.39 128.768 179.27 123.018 186.86 124.158C191.71 124.888 199.07 131.058 200.13 135.288C201.3 139.968 199.88 150.288 197.61 153.468C193.47 159.288 184.75 161.818 176.81 159.528ZM112.52 154.778C127.47 162.798 141.65 142.438 129.13 130.938C124.62 126.788 119.76 125.878 113.97 128.088C107.7 130.478 105 134.608 105 141.808C105 148.348 107.01 151.828 112.52 154.778ZM177 154.098C187.08 159.098 198.51 151.248 197.26 140.168C196.38 132.348 190.06 126.618 182.35 126.638C168.67 126.658 164.54 147.908 177 154.098ZM296.6 142.918C295 142.518 293.27 141.928 292.53 141.518C291.97 141.198 288.62 139.888 284.15 138.218C285.04 138.538 285.97 138.868 286.93 139.218C290.52 140.508 293.9 141.808 296.6 142.918ZM303.48 147.858C303.82 149.958 302.49 151.938 299.41 153.948C302.39 151.998 303.71 149.798 303.48 147.858ZM302.94 146.338C302.8 146.098 302.62 145.858 302.41 145.628C302.54 145.718 302.62 145.798 302.66 145.858C302.76 146.018 302.86 146.178 302.94 146.338Z" 
          fill="#F6BC12"
        />
        <Path 
          d="M148.68 313.348C148.1 312.648 146.27 306.888 144.61 300.568C140.75 285.798 133.99 266.768 128.2 254.388C123.95 245.298 114.42 228.558 112.05 225.998C111.47 225.378 110.32 223.848 109.5 222.588C106.41 217.868 96.51 206.858 88.39 199.108C78.37 189.538 67.42 181.678 54.5 174.788C43.76 169.058 19.34 159.008 12.52 157.518C6.21 156.128 0 151.708 0 148.578C0 145.698 2.55 144.248 16 139.488C42.51 130.098 55.23 124.048 71.5 113.108C97.84 95.3783 117.76 72.1983 131.47 43.3483C136.52 32.7183 139.35 25.5183 146.19 5.86831C148 0.678313 150.74 -1.12168 154.09 0.678319C155.91 1.64832 157.37 4.76832 160.59 14.5283C171.93 48.9183 183.83 69.6783 204.43 90.9883C223.02 110.218 246.13 124.418 277 135.588C284.7 138.378 291.69 141.038 292.53 141.518C293.38 141.988 295.52 142.688 297.29 143.078C304.62 144.688 305.63 149.878 299.41 153.948C297.16 155.428 294.66 156.628 293.85 156.628C291.18 156.628 262.2 168.598 250.74 174.448C234.25 182.848 222.61 191.388 209 205.068C192.45 221.698 181.69 238.138 171.31 262.628C166.65 273.628 160.14 293.148 157.91 302.828C155.72 312.308 151.66 316.938 148.68 313.348ZM155.03 299.128C156.19 295.828 158.74 288.398 160.69 282.628C165.86 267.288 167.56 262.598 169.57 258.128C170.56 255.928 172.28 252.108 173.4 249.628C174.51 247.148 176.72 242.878 178.31 240.128C179.91 237.378 182.11 233.548 183.2 231.628C186.18 226.388 197.97 210.838 202.87 205.668C213.83 194.118 229.03 182.418 243.5 174.398C245.98 173.028 249.58 170.968 251.5 169.828C253.42 168.688 258.83 166.208 263.5 164.318C268.17 162.428 274.64 159.698 277.87 158.258C281.11 156.808 284.14 155.628 284.62 155.628C285.1 155.628 288.2 154.398 291.5 152.888C297.7 150.048 298.96 147.948 296.13 145.118C295.37 144.358 288.51 141.668 280.88 139.128C251.84 129.478 235.17 121.248 218 108.088C212.26 103.688 195.8 87.4783 190.78 81.2783C187.82 77.6283 180.77 67.2283 178.31 62.8783C174.83 56.7383 163.5 33.9383 163.5 33.0883C163.5 32.7283 162.87 31.0083 162.09 29.2783C160.51 25.7383 158.34 19.3383 156.43 12.6283C155.72 10.1583 154.51 7.36832 153.73 6.44832C152.19 4.61832 149.5 5.05832 149.5 7.13832C149.5 7.85832 148.18 11.3783 146.57 14.9683C144.96 18.5583 142.84 24.1083 141.85 27.3083C140.86 30.5083 139.82 33.3483 139.53 33.6283C138.83 34.2883 129.5 53.3783 129.5 54.1483C129.5 55.0483 118.37 71.9883 117.03 73.1283C116.38 73.6783 115.44 74.8583 114.93 75.7383C111.77 81.2383 96.2 97.5183 86.5 105.468C78.09 112.358 77.69 112.658 72.98 115.708C64.41 121.258 60.74 123.368 54.15 126.518C42.45 132.098 38.48 133.698 22.51 139.208C8.65 143.998 4.5 146.208 4.5 148.838C4.5 150.238 10.4 153.338 18.37 156.118C34.64 161.798 53.76 170.718 65.32 178.008C67.6 179.448 69.83 180.628 70.29 180.628C71.12 180.628 77.6 185.918 87 194.278C89.75 196.718 92.45 199.098 93 199.558C94.94 201.198 111.42 220.178 113.9 223.628C115.28 225.548 117.12 228.688 118 230.588C118.87 232.498 119.93 234.298 120.36 234.588C120.79 234.888 123.89 240.538 127.25 247.158C135.06 262.548 139.07 272.958 145.1 293.508C146.46 298.108 148.03 302.748 148.6 303.818C150.41 307.188 152.79 305.448 155.03 299.128ZM112.52 154.778C107.01 151.828 105 148.348 105 141.808C105 134.608 107.7 130.478 113.97 128.088C119.76 125.878 124.62 126.788 129.13 130.938C141.65 142.438 127.47 162.798 112.52 154.778ZM177 154.098C164.54 147.908 168.67 126.658 182.35 126.638C190.06 126.618 196.38 132.348 197.26 140.168C198.51 151.248 187.08 159.098 177 154.098Z" 
          fill="#F9F2A5"
        />
        </Svg>
      </Animated.View>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    width: 260,
    height: 260 * (315 / 304), // Mantener proporción del viewBox original
    backgroundColor: 'transparent',
    zIndex: 10,
    alignItems: 'center',
    justifyContent: 'center',
  },
  animatedContainer: {
    alignItems: 'center',
    justifyContent: 'center',
  },
});
